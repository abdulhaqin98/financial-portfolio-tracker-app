{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/small_projects/fpt-react/fpt/src/App.js\";\nimport React from 'react';\nimport firebase from './firebase';\nimport './App.css';\nimport Note from './components/note';\n\nfunction App() {\n  const [tasks, setTasks] = React.useState([]);\n  const [newTask, setnewTask] = React.useState('');\n  const [updateTask, setupdateTask] = React.useState('');\n  React.useEffect(() => {\n    const fetchData = async () => {\n      const db = firebase.firestore();\n      db.collection(\"tasks\").onSnapshot(function (data) {\n        console.log(data);\n        setTasks(data.docs.map(doc => ({ ...doc.data(),\n          id: doc.id\n        })));\n      });\n    };\n\n    fetchData();\n  }, []);\n\n  const onCreate = () => {\n    const db = firebase.firestore();\n    db.collection(\"tasks\").add({\n      name: newTask\n    });\n  };\n\n  function onDelete(id) {\n    const db = firebase.firestore();\n    db.collection('tasks').doc(id).delete();\n  }\n\n  const onUpdate = id => {\n    const db = firebase.firestore();\n    db.collection('tasks').doc(id).set({\n      name: updateTask\n    });\n  };\n\n  return React.createElement(Note, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  });\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/Desktop/small_projects/fpt-react/fpt/src/App.js"],"names":["React","firebase","Note","App","tasks","setTasks","useState","newTask","setnewTask","updateTask","setupdateTask","useEffect","fetchData","db","firestore","collection","onSnapshot","data","console","log","docs","map","doc","id","onCreate","add","name","onDelete","delete","onUpdate","set"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,WAAP;AAEA,OAAOC,IAAP,MAAiB,mBAAjB;;AAEA,SAASC,GAAT,GAAe;AAEb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,KAAK,CAACM,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,KAAK,CAACM,QAAN,CAAe,EAAf,CAA9B;AACA,QAAM,CAACG,UAAD,EAAaC,aAAb,IAA8BV,KAAK,CAACM,QAAN,CAAe,EAAf,CAApC;AAEAN,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAM;AACpB,UAAMC,SAAS,GAAG,YAAY;AAE5B,YAAMC,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AAEAD,MAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EACCC,UADD,CACY,UAASC,IAAT,EAAe;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAZ,QAAAA,QAAQ,CAACY,IAAI,CAACG,IAAL,CAAUC,GAAV,CAAcC,GAAG,KAAK,EAAE,GAAGA,GAAG,CAACL,IAAJ,EAAL;AAAiBM,UAAAA,EAAE,EAAED,GAAG,CAACC;AAAzB,SAAL,CAAjB,CAAD,CAAR;AACD,OAJD;AAKD,KATD;;AAUAX,IAAAA,SAAS;AACZ,GAZC,EAYC,EAZD;;AAcF,QAAMY,QAAQ,GAAG,MAAM;AAEnB,UAAMX,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AACAD,IAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBU,GAAvB,CAA2B;AAAEC,MAAAA,IAAI,EAAEnB;AAAR,KAA3B;AACD,GAJH;;AAME,WAASoB,QAAT,CAAmBJ,EAAnB,EAAuB;AAErB,UAAMV,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AACAD,IAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBO,GAAvB,CAA2BC,EAA3B,EAA+BK,MAA/B;AACD;;AAED,QAAMC,QAAQ,GAAIN,EAAD,IAAQ;AAEvB,UAAMV,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AACAD,IAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBO,GAAvB,CAA2BC,EAA3B,EAA+BO,GAA/B,CAAmC;AAACJ,MAAAA,IAAI,EAACjB;AAAN,KAAnC;AACD,GAJD;;AAMA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAID;;AACD,eAAeN,GAAf","sourcesContent":["import React from 'react';\nimport firebase from './firebase';\nimport './App.css';\n\nimport Note from './components/note';\n\nfunction App() {\n\n  const [tasks, setTasks] = React.useState([]); \n  const [newTask, setnewTask] = React.useState(''); \n  const [updateTask, setupdateTask] = React.useState(''); \n\n  React.useEffect(() => {\n    const fetchData = async () => {\n      \n      const db = firebase.firestore();\n\n      db.collection(\"tasks\")\n      .onSnapshot(function(data) { \n        console.log(data)\n        setTasks(data.docs.map(doc => ({ ...doc.data(), id: doc.id }))); \n      });\n    };\n    fetchData(); \n}, []);\n\nconst onCreate = () => {\n\n    const db = firebase.firestore();\n    db.collection(\"tasks\").add({ name: newTask }); \n  };\n\n  function onDelete (id) { \n\n    const db = firebase.firestore();\n    db.collection('tasks').doc(id).delete();\n  }\n\n  const onUpdate = (id) => { \n\n    const db = firebase.firestore();\n    db.collection('tasks').doc(id).set({name:updateTask});\n  }\n\n  return (\n    <Note/>\n  );\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}